(this["webpackJsonpfunction-component"]=this["webpackJsonpfunction-component"]||[]).push([[7],{145:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(0),r=a.n(n),l=a(61),s=a(11),c=a(146),o=a(140),i=a(141),u=a(142),m=a(87),d=a(86),f=a(70),p=a(143),E=a(136),b=a(68);function x(){var e=Object(E.a)(["{\n    posts{\n        data{\n            id\n            title\n            body\n            user{\n                name\n            }\n        }\n    }\n}"]);return x=function(){return e},e}var g=Object(b.b)(x()),h=function(){var e=Object(p.a)(g),t=e.loading,a=e.error,E=e.data,b=Object(n.useState)({start:0,end:5}),x=Object(s.a)(b,2),h=x[0],v=x[1],j=Object(n.useState)(null),y=Object(s.a)(j,2),N=y[0],w=y[1],O=Object(n.useState)({posts:[],filteredPosts:[]}),P=Object(s.a)(O,2),C=P[0],S=P[1],k=Object(n.useState)(""),z=Object(s.a)(k,2),L=z[0],F=z[1],J=function(e){v("next"===e?{start:h.end,end:h.end+5}:{start:h.start-5,end:h.start})};Object(n.useEffect)((function(){if(E&&!t){console.log(E,t);var e=E.posts;S({posts:e.data,filteredPosts:e.data})}}),[E,t]);return t?r.a.createElement("div",{className:"mt-5 text-center"},r.a.createElement(f.ClipLoader,{size:"100px"})):a?r.a.createElement("div",{className:"mt-5 d-flex flex-wrap justify-content-center"},r.a.createElement("i",{style:{fontSize:"5rem"},className:"w-100 fa fa-exclamation-triangle text-center text-danger"}),r.a.createElement("h3",{className:"text-center text-danger"},"Something went wrong.",r.a.createElement("br",null),"Please try again later.")):r.a.createElement(r.a.Fragment,null,N?r.a.createElement(c.a,{isOpen:!0,backdrop:"static"},r.a.createElement(o.a,{toggle:function(){return w(null)}},"Post"),r.a.createElement(i.a,null,r.a.createElement("div",{className:"p-4 m-2",style:{cursor:"pointer",boxShadow:"0 0 10px 1px #ccc"}},r.a.createElement("h4",null,N.id," : ",N.title),r.a.createElement("p",null,N.body)))):null,r.a.createElement(u.a,{className:"mb-4"},r.a.createElement("div",{className:"posts_container"},r.a.createElement("h1",{className:"text-center"},"Posts"),r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(m.a,{value:L,onChange:function(e){var t=e.target.value;v({start:0,end:5}),F(t);var a=C.posts.filter((function(e){return e.title.toLowerCase().includes(t.trim().toLowerCase())||e.id.toString().includes(t.trim().toString())||e.user.name.toLowerCase().includes(t.trim().toLowerCase())}));S((function(e){return Object(l.a)(Object(l.a)({},e),{},{filteredPosts:a})}))},placeholder:"Search",type:"text"})),r.a.createElement("div",{className:"d-flex justify-content-end py-1"},r.a.createElement("span",{className:"text-center px-2 py-0 text-muted"},"Total Posts ",r.a.createElement("br",null),C.filteredPosts.length),r.a.createElement("span",{className:"text-center px-2 py-0 text-muted"},"Total Pages ",r.a.createElement("br",null),Math.ceil(C.filteredPosts.length/5))))),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},C.filteredPosts.length?C.filteredPosts.slice(h.start,h.end).map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return w(e)},className:"post2 d-inline-block flex-grow-1 m-2 position-relative"},r.a.createElement("h4",{className:"heading"},e.id," : ",e.title),r.a.createElement("p",null,e.body),r.a.createElement("p",{className:"text-muted position-absolute px-3 username-desc"},"- ",e.user.name))})):r.a.createElement("h3",{className:"mx-auto text-danger"},"Posts Not Found")),r.a.createElement("div",{className:"d-flex justify-content-around mt-2"},r.a.createElement(d.a,{size:"sm",color:"primary",outline:!0,onClick:function(){return J("prev")},disabled:0===h.start},"Previous"),r.a.createElement(d.a,{size:"sm",color:"primary",outline:!0,onClick:function(){return J("next")},disabled:C.filteredPosts.length<=h.end},"Next"))))},v=a(60),j=a(63);function y(){return r.a.createElement(v.a,{client:j.b},r.a.createElement(h,null))}},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(72),r=a.n(n);function l(){return r.a.get("https://jsonplaceholder.typicode.com/photos")}var s=new(a(68).a)({uri:"https://graphqlzero.almansi.me/api"})}}]);
//# sourceMappingURL=7.1ee9d53d.chunk.js.map